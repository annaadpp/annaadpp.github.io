<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart, Crescent Moon, and Rainbow Animation</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #0d335f;
            margin: 0;
        }
        canvas {
            border: 2px solid white;
        }
        .plyr {
            margin-top: 20px;
        }
    </style>

    <!-- Include Plyr CSS -->
    <link rel="stylesheet" href="https://cdn.plyr.io/3.7.8/plyr.css" />
</head>
<body>

<input type="file" id="audio-upload" accept="audio/*" />
<select id="shape-selector">
    <option value="heart">Heart</option>
    <option value="moon">Crescent Moon</option>
    <option value="rainbow">Rainbow</option>
</select>

<!-- Audio element for Plyr -->
<audio id="player" controls></audio>

<!-- Include Plyr JS -->
<script src="https://cdn.plyr.io/3.7.8/plyr.polyfilled.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/addons/p5.sound.min.js"></script>

<script>
let amplitude, fft;
let song;
let shapes = []; // Array de posicions de les formes
let numShapes = 7; // Nombre de formes a dibuixar
let selectedShape = 'heart'; // Forma per defecte

function setup() {
  let canvas = createCanvas(600, 600);
  canvas.parent(document.body);

  amplitude = new p5.Amplitude();
  fft = new p5.FFT();

  // Inicialitzar les formes amb posicions aleatòries
  for (let i = 0; i < numShapes; i++) {
    let x = random(width);
    let y = random(height);
    shapes.push({x: x, y: y});
  }

  // Setup file input listener
  let fileInput = document.getElementById('audio-upload');
  fileInput.addEventListener('change', handleFileUpload);

  // Dropdown listener
  let shapeSelector = document.getElementById('shape-selector');
  shapeSelector.addEventListener('change', function() {
    selectedShape = this.value;
  });
}

function draw() {
  background('#0d335f');

  if (!song || !song.isPlaying()) {
    return;
  }

  let level = amplitude.getLevel();
  let size = map(level, 0, 1, 0.5, 1.5); // Escala de la mida de la forma

  let spectrum = fft.analyze();
  let bass = fft.getEnergy("bass");
  let treble = fft.getEnergy("treble");

  let r = map(bass, 0, 255, 50, 255);
  let b = map(treble, 0, 255, 50, 255);
  let g = map(level, 0, 1, 50, 255);

  noFill();
  stroke(r, g, b);
  strokeWeight(3);

  // Dibuixar múltiples formes (cors, llunes o arcs de Sant Martí)
  shapes.forEach(shape => {
    push();
    translate(shape.x, shape.y);
    scale(size);

    if (selectedShape === 'heart') {
      drawHeart(); // Dibuixa el cor
    } else if (selectedShape === 'moon') {
      drawCrescentMoon(); // Dibuixa la lluna creixent
    } else if (selectedShape === 'rainbow') {
      drawRainbow(); // Dibuixa l'arc de Sant Martí
    }

    pop();
  });
}

function drawHeart() {
scale(0.5);
    beginShape();
vertex(219, 8.1875);
vertex(226, 8.1875);
vertex(232, 6.1875);
vertex(240, 5.1875);
vertex(249, 8.1875);
vertex(256, 11.1875);
vertex(265, 12.1875);
vertex(272, 15.1875);
vertex(281, 20.1875);
vertex(289, 26.1875);
vertex(295, 34.1875);
vertex(302, 43.1875);
vertex(307, 52.1875);
vertex(312, 58.1875);
vertex(314, 65.1875);
vertex(313, 52.1875);
vertex(321, 51.1875);
vertex(327, 51.1875);
vertex(335, 57.1875);
vertex(304, 46.1875);
vertex(297, 37.1875);
vertex(290, 30.1875);
vertex(285, 22.1875);
vertex(275, 17.1875);
vertex(260, 11.1875);
vertex(246, 8.1875);
vertex(239, 8.1875);
vertex(233, 8.1875);
vertex(227, 10.1875);
vertex(220, 9.1875);
vertex(213, 12.1875);
vertex(271, 13.1875);
vertex(283, 19.1875);
vertex(292, 27.1875);
vertex(298, 33.1875);
vertex(302, 38.1875);
vertex(307, 44.1875);
vertex(313, 49.1875);
vertex(324, 52.1875);
vertex(331, 54.1875);
vertex(337, 57.1875);
vertex(341, 60.1875);
vertex(348, 63.1875);
vertex(352, 66.1875);
vertex(358, 71.1875);
vertex(364, 75.1875);
vertex(369, 82.1875);
vertex(374, 88.1875);
vertex(378, 94.1875);
vertex(381, 100.1875);
vertex(381, 106.1875);
vertex(386, 113.1875);
vertex(385, 117.1875);
vertex(385, 125.1875);
vertex(387, 132.1875);
vertex(386, 138.1875);
vertex(383, 146.1875);
vertex(381, 155.1875);
vertex(377, 163.1875);
vertex(371, 172.1875);
vertex(373, 167.1875);
vertex(379, 160.1875);
vertex(383, 151.1875);
vertex(368, 176.1875);
vertex(365, 181.1875);
vertex(359, 185.1875);
vertex(354, 190.1875);
vertex(350, 195.1875);
vertex(342, 197.1875);
vertex(331, 202.1875);
vertex(332, 201.1875);
vertex(337, 201.1875);
vertex(343, 200.1875);
vertex(352, 194.1875);
vertex(323, 204.1875);
vertex(315, 204.1875);
vertex(308, 204.1875);
vertex(305, 199.1875);
vertex(302, 190.1875);
vertex(299, 183.1875);
vertex(303, 194.1875);
vertex(303, 194.1875);
vertex(299, 177.1875);
vertex(298, 171.1875);
vertex(297, 167.1875);
vertex(297, 159.1875);
vertex(299, 152.1875);
vertex(300, 145.1875);
vertex(302, 141.1875);
vertex(305, 135.1875);
vertex(309, 129.1875);
vertex(312, 122.1875);
vertex(315, 117.1875);
vertex(317, 114.1875);
vertex(321, 111.1875);
vertex(323, 108.1875);
vertex(328, 103.1875);
vertex(330, 101.1875);
vertex(334, 98.1875);
vertex(338, 96.1875);
vertex(342, 94.1875);
vertex(347, 91.1875);
vertex(357, 89.1875);
vertex(353, 89.1875);
vertex(362, 87.1875);
vertex(364, 88.1875);
vertex(369, 87.1875);
vertex(377, 87.1875);
vertex(385, 86.1875);
vertex(382, 87.1875);
vertex(390, 89.1875);
vertex(395, 89.1875);
vertex(400, 90.1875);
vertex(404, 91.1875);
vertex(409, 94.1875);
vertex(414, 97.1875);
vertex(421, 102.1875);
vertex(427, 106.1875);
vertex(432, 109.1875);
vertex(435, 115.1875);
vertex(440, 120.1875);
vertex(444, 125.1875);
vertex(446, 132.1875);
vertex(450, 138.1875);
vertex(451, 143.1875);
vertex(454, 151.1875);
vertex(454, 155.1875);
vertex(454, 163.1875);
vertex(452, 170.1875);
vertex(452, 177.1875);
vertex(452, 182.1875);
vertex(449, 193.1875);
vertex(444, 203.1875);
vertex(446, 201.1875);
vertex(447, 194.1875);
vertex(452, 189.1875);
vertex(450, 189.1875);
vertex(444, 204.1875);
vertex(442, 198.1875);
vertex(437, 196.1875);
vertex(433, 192.1875);
vertex(428, 187.1875);
vertex(423, 183.1875);
vertex(418, 179.1875);
vertex(411, 175.1875);
vertex(404, 171.1875);
vertex(392, 168.1875);
vertex(386, 166.1875);
vertex(378, 167.1875);
vertex(389, 165.1875);
vertex(399, 169.1875);
vertex(400, 170.1875);
vertex(373, 165.1875);
vertex(370, 159.1875);
vertex(367, 156.1875);
vertex(363, 150.1875);
vertex(358, 146.1875);
vertex(350, 141.1875);
vertex(345, 139.1875);
vertex(338, 134.1875);
vertex(351, 142.1875);
vertex(355, 146.1875);
vertex(360, 149.1875);
vertex(364, 154.1875);
vertex(368, 158.1875);
vertex(373, 164.1875);
vertex(313, 130.1875);
vertex(320, 129.1875);
vertex(324, 131.1875);
vertex(330, 132.1875);
vertex(369, 167.1875);
vertex(311, 200.1875);
vertex(316, 203.1875);
vertex(323, 205.1875);
vertex(327, 203.1875);
vertex(336, 202.1875);
vertex(345, 198.1875);
vertex(353, 193.1875);
vertex(360, 188.1875);
vertex(358, 193.1875);
vertex(367, 180.1875);
vertex(373, 170.1875);
vertex(377, 170.1875);
vertex(380, 175.1875);
vertex(381, 179.1875);
vertex(383, 183.1875);
vertex(384, 186.1875);
vertex(385, 191.1875);
vertex(386, 195.1875);
vertex(385, 200.1875);
vertex(385, 204.1875);
vertex(385, 208.1875);
vertex(385, 213.1875);
vertex(384, 217.1875);
vertex(384, 222.1875);
vertex(383, 224.1875);
vertex(382, 234.1875);
vertex(383, 227.1875);
vertex(382, 231.1875);
vertex(380, 237.1875);
vertex(380, 242.1875);
vertex(379, 246.1875);
vertex(382, 244.1875);
vertex(387, 245.1875);
vertex(391, 243.1875);
vertex(396, 242.1875);
vertex(399, 240.1875);
vertex(405, 237.1875);
vertex(409, 234.1875);
vertex(414, 232.1875);
vertex(418, 230.1875);
vertex(423, 229.1875);
vertex(428, 225.1875);
vertex(431, 222.1875);
vertex(434, 219.1875);
vertex(443, 216.1875);
vertex(439, 214.1875);
vertex(441, 210.1875);
vertex(443, 208.1875);
vertex(445, 210.1875);
vertex(448, 216.1875);
vertex(449, 221.1875);
vertex(452, 224.1875);
vertex(452, 227.1875);
vertex(454, 232.1875);
vertex(454, 236.1875);
vertex(455, 242.1875);
vertex(454, 247.1875);
vertex(454, 254.1875);
vertex(453, 251.1875);
vertex(453, 261.1875);
vertex(452, 265.1875);
vertex(452, 268.1875);
vertex(450, 272.1875);
vertex(448, 277.1875);
vertex(445, 283.1875);
vertex(444, 283.1875);
vertex(443, 280.1875);
vertex(441, 279.1875);
vertex(439, 274.1875);
vertex(436, 271.1875);
vertex(434, 269.1875);
vertex(430, 265.1875);
vertex(427, 263.1875);
vertex(423, 260.1875);
vertex(420, 257.1875);
vertex(418, 254.1875);
vertex(412, 252.1875);
vertex(411, 251.1875);
vertex(407, 250.1875);
vertex(403, 248.1875);
vertex(397, 247.1875);
vertex(391, 245.1875);
vertex(385, 245.1875);
vertex(380, 248.1875);
vertex(379, 250.1875);
vertex(381, 255.1875);
vertex(387, 279.1875);
vertex(387, 280.1875);
vertex(385, 268.1875);
vertex(383, 261.1875);
vertex(384, 268.1875);
vertex(385, 271.1875);
vertex(387, 275.1875);
vertex(387, 280.1875);
vertex(387, 285.1875);
vertex(386, 291.1875);
vertex(385, 296.1875);
vertex(383, 304.1875);
vertex(382, 307.1875);
vertex(381, 311.1875);
vertex(379, 319.1875);
vertex(378, 321.1875);
vertex(374, 319.1875);
vertex(375, 327.1875);
vertex(380, 327.1875);
vertex(382, 326.1875);
vertex(385, 322.1875);
vertex(390, 321.1875);
vertex(392, 321.1875);
vertex(397, 319.1875);
vertex(402, 317.1875);
vertex(405, 315.1875);
vertex(411, 313.1875);
vertex(417, 310.1875);
vertex(421, 306.1875);
vertex(426, 304.1875);
vertex(430, 300.1875);
vertex(434, 295.1875);
vertex(435, 294.1875);
vertex(439, 289.1875);
vertex(443, 285.1875);
vertex(446, 286.1875);
vertex(447, 293.1875);
vertex(448, 298.1875);
vertex(450, 302.1875);
vertex(453, 307.1875);
vertex(454, 315.1875);
vertex(453, 323.1875);
vertex(453, 333.1875);
vertex(451, 341.1875);
vertex(447, 349.1875);
vertex(444, 358.1875);
vertex(438, 367.1875);
vertex(430, 377.1875);
vertex(432, 375.1875);
vertex(436, 370.1875);
vertex(435, 371.1875);
vertex(443, 361.1875);
vertex(442, 362.1875);
vertex(444, 359.1875);
vertex(445, 357.1875);
vertex(446, 354.1875);
vertex(448, 349.1875);
vertex(438, 366.1875);
vertex(436, 370.1875);
vertex(430, 377.1875);
vertex(428, 380.1875);
vertex(425, 382.1875);
vertex(414, 390.1875);
vertex(412, 391.1875);
vertex(409, 393.1875);
vertex(408, 393.1875);
vertex(415, 389.1875);
vertex(417, 389.1875);
vertex(419, 389.1875);
vertex(421, 385.1875);
vertex(408, 394.1875);
vertex(404, 394.1875);
vertex(400, 396.1875);
vertex(405, 399.1875);
vertex(380, 399.1875);
vertex(387, 399.1875);
vertex(388, 398.1875);
vertex(396, 397.1875);
vertex(382, 394.1875);
vertex(382, 389.1875);
vertex(386, 385.1875);
vertex(389, 377.1875);
vertex(389, 372.1875);
vertex(390, 366.1875);
vertex(390, 359.1875);
vertex(388, 354.1875);
vertex(387, 348.1875);
vertex(386, 342.1875);
vertex(385, 337.1875);
vertex(384, 332.1875);
vertex(375, 327.1875);
vertex(374, 329.1875);
vertex(371, 331.1875);
vertex(368, 334.1875);
vertex(367, 336.1875);
vertex(364, 339.1875);
vertex(361, 342.1875);
vertex(360, 343.1875);
vertex(355, 346.1875);
vertex(353, 348.1875);
vertex(349, 352.1875);
vertex(349, 351.1875);
vertex(346, 352.1875);
vertex(341, 354.1875);
vertex(338, 356.1875);
vertex(334, 359.1875);
vertex(332, 360.1875);
vertex(328, 360.1875);
vertex(326, 361.1875);
vertex(321, 361.1875);
vertex(318, 362.1875);
vertex(314, 363.1875);
vertex(313, 364.1875);
vertex(313, 369.1875);
vertex(315, 372.1875);
vertex(318, 376.1875);
vertex(322, 377.1875);
vertex(326, 381.1875);
vertex(330, 383.1875);
vertex(334, 385.1875);
vertex(338, 387.1875);
vertex(341, 390.1875);
vertex(346, 392.1875);
vertex(351, 394.1875);
vertex(359, 395.1875);
vertex(363, 395.1875);
vertex(361, 395.1875);
vertex(355, 395.1875);
vertex(361, 396.1875);
vertex(365, 397.1875);
vertex(369, 397.1875);
vertex(373, 397.1875);
vertex(376, 397.1875);
vertex(380, 398.1875);
vertex(380, 402.1875);
vertex(375, 406.1875);
vertex(371, 410.1875);
vertex(369, 413.1875);
vertex(365, 418.1875);
vertex(360, 423.1875);
vertex(358, 425.1875);
vertex(352, 428.1875);
vertex(345, 433.1875);
vertex(338, 437.1875);
vertex(334, 438.1875);
vertex(325, 438.1875);
vertex(317, 439.1875);
vertex(310, 439.1875);
vertex(305, 440.1875);
vertex(315, 440.1875);
vertex(323, 439.1875);
vertex(330, 438.1875);
vertex(323, 439.1875);
vertex(322, 440.1875);
vertex(332, 438.1875);
vertex(339, 437.1875);
vertex(344, 433.1875);
vertex(349, 432.1875);
vertex(330, 439.1875);
vertex(317, 439.1875);
vertex(308, 439.1875);
vertex(309, 431.1875);
vertex(311, 427.1875);
vertex(315, 419.1875);
vertex(316, 418.1875);
vertex(317, 412.1875);
vertex(318, 405.1875);
vertex(318, 401.1875);
vertex(317, 394.1875);
vertex(317, 388.1875);
vertex(316, 381.1875);
vertex(315, 377.1875);
vertex(312, 371.1875);
vertex(312, 366.1875);
vertex(310, 361.1875);
vertex(310, 358.1875);
vertex(314, 352.1875);
vertex(315, 348.1875);
vertex(317, 341.1875);
vertex(318, 335.1875);
vertex(318, 334.1875);
vertex(318, 328.1875);
vertex(318, 323.1875);
vertex(317, 318.1875);
vertex(318, 311.1875);
vertex(316, 301.1875);
vertex(315, 297.1875);
vertex(312, 292.1875);
vertex(326, 300.1875);
vertex(330, 306.1875);
vertex(338, 311.1875);
vertex(344, 314.1875);
vertex(351, 316.1875);
vertex(358, 319.1875);
vertex(370, 322.1875);
vertex(365, 322.1875);
vertex(372, 315.1875);
vertex(366, 308.1875);
vertex(359, 302.1875);
vertex(354, 295.1875);
vertex(346, 293.1875);
vertex(339, 288.1875);
vertex(333, 286.1875);
vertex(324, 284.1875);
vertex(316, 286.1875);
vertex(307, 287.1875);
vertex(301, 293.1875);
vertex(300, 299.1875);
vertex(299, 307.1875);
vertex(298, 313.1875);
vertex(297, 319.1875);
vertex(298, 328.1875);
vertex(299, 334.1875);
vertex(300, 341.1875);
vertex(303, 348.1875);
vertex(307, 356.1875);
vertex(305, 357.1875);
vertex(304, 367.1875);
vertex(302, 374.1875);
vertex(299, 376.1875);
vertex(294, 383.1875);
vertex(284, 389.1875);
vertex(279, 392.1875);
vertex(267, 397.1875);
vertex(260, 398.1875);
vertex(250, 400.1875);
vertex(245, 402.1875);
vertex(247, 391.1875);
vertex(249, 385.1875);
vertex(252, 375.1875);
vertex(254, 364.1875);
vertex(253, 358.1875);
vertex(252, 348.1875);
vertex(249, 338.1875);
vertex(260, 345.1875);
vertex(267, 349.1875);
vertex(270, 353.1875);
vertex(282, 357.1875);
vertex(290, 359.1875);
vertex(300, 360.1875);
vertex(296, 346.1875);
vertex(288, 341.1875);
vertex(279, 333.1875);
vertex(271, 331.1875);
vertex(263, 328.1875);
vertex(256, 325.1875);
vertex(247, 326.1875);
vertex(244, 323.1875);
vertex(247, 316.1875);
vertex(255, 307.1875);
vertex(260, 301.1875);
vertex(268, 298.1875);
vertex(273, 293.1875);
vertex(282, 289.1875);
vertex(289, 287.1875);
vertex(297, 287.1875);
vertex(300, 298.1875);
vertex(294, 303.1875);
vertex(286, 306.1875);
vertex(282, 310.1875);
vertex(277, 313.1875);
vertex(267, 318.1875);
vertex(262, 320.1875);
vertex(253, 321.1875);
vertex(245, 319.1875);
vertex(238, 315.1875);
vertex(233, 305.1875);
vertex(231, 295.1875);
vertex(233, 270.1875);
vertex(230, 281.1875);
vertex(233, 266.1875);
vertex(237, 255.1875);
vertex(241, 251.1875);
vertex(245, 254.1875);
vertex(248, 260.1875);
vertex(249, 268.1875);
vertex(250, 279.1875);
vertex(251, 296.1875);
vertex(248, 311.1875);
vertex(251, 310.1875);
vertex(263, 302.1875);
vertex(270, 296.1875);
vertex(278, 290.1875);
vertex(285, 286.1875);
vertex(289, 284.1875);
vertex(294, 287.1875);
vertex(303, 284.1875);
vertex(306, 279.1875);
vertex(311, 275.1875);
vertex(314, 270.1875);
vertex(319, 264.1875);
vertex(320, 256.1875);
vertex(319, 248.1875);
vertex(320, 237.1875);
vertex(319, 234.1875);
vertex(316, 223.1875);
vertex(315, 216.1875);
vertex(309, 211.1875);
vertex(303, 216.1875);
vertex(302, 220.1875);
vertex(301, 228.1875);
vertex(298, 236.1875);
vertex(297, 246.1875);
vertex(299, 258.1875);
vertex(301, 265.1875);
vertex(304, 273.1875);
vertex(298, 274.1875);
vertex(293, 263.1875);
vertex(284, 255.1875);
vertex(273, 249.1875);
vertex(262, 247.1875);
vertex(251, 246.1875);
vertex(245, 252.1875);
vertex(252, 262.1875);
vertex(256, 264.1875);
vertex(262, 270.1875);
vertex(269, 275.1875);
vertex(276, 276.1875);
vertex(286, 281.1875);
vertex(296, 285.1875);
vertex(306, 284.1875);
vertex(310, 279.1875);
vertex(314, 274.1875);
vertex(318, 268.1875);
vertex(326, 259.1875);
vertex(335, 252.1875);
vertex(344, 251.1875);
vertex(353, 244.1875);
vertex(364, 244.1875);
vertex(373, 244.1875);
vertex(373, 240.1875);
vertex(366, 230.1875);
vertex(354, 222.1875);
vertex(339, 213.1875);
vertex(326, 209.1875);
vertex(320, 219.1875);
vertex(327, 226.1875);
vertex(335, 230.1875);
vertex(344, 233.1875);
vertex(355, 238.1875);
vertex(373, 252.1875);
vertex(368, 260.1875);
vertex(356, 270.1875);
vertex(341, 280.1875);
vertex(328, 284.1875);
vertex(314, 196.1875);
vertex(316, 187.1875);
vertex(317, 176.1875);
vertex(317, 167.1875);
vertex(316, 157.1875);
vertex(315, 149.1875);
vertex(311, 140.1875);
vertex(306, 133.1875);
vertex(305, 126.1875);
vertex(300, 119.1875);
vertex(293, 110.1875);
vertex(282, 102.1875);
vertex(274, 98.1875);
vertex(266, 93.1875);
vertex(257, 93.1875);
vertex(244, 88.1875);
vertex(237, 97.1875);
vertex(230, 121.1875);
vertex(231, 139.1875);
vertex(237, 160.1875);
vertex(249, 179.1875);
vertex(269, 195.1875);
vertex(286, 203.1875);
vertex(301, 210.1875);
vertex(303, 198.1875);
vertex(292, 186.1875);
vertex(286, 182.1875);
vertex(273, 175.1875);
vertex(259, 170.1875);
vertex(248, 171.1875);
vertex(248, 162.1875);
vertex(262, 149.1875);
vertex(273, 141.1875);
vertex(286, 134.1875);
vertex(298, 132.1875);
vertex(296, 143.1875);
vertex(288, 151.1875);
vertex(273, 160.1875);
vertex(259, 166.1875);
vertex(248, 160.1875);
vertex(255, 143.1875);
vertex(253, 124.1875);
vertex(250, 107.1875);
vertex(248, 96.1875);
vertex(253, 77.1875);
vertex(260, 70.1875);
vertex(269, 63.1875);
vertex(276, 57.1875);
vertex(286, 53.1875);
vertex(296, 51.1875);
vertex(308, 52.1875);
vertex(314, 64.1875);
vertex(318, 76.1875);
vertex(318, 88.1875);
vertex(316, 102.1875);
vertex(311, 117.1875);
vertex(286, 107.1875);
vertex(266, 95.1875);
vertex(248, 91.1875);
vertex(234, 77.1875);
vertex(228, 68.1875);
vertex(215, 64.1875);
vertex(204, 54.1875);
vertex(193, 53.1875);
vertex(181, 51.1875);
vertex(168, 51.1875);
vertex(170, 52.1875);
vertex(172, 45.1875);
vertex(177, 39.1875);
vertex(179, 34.1875);
vertex(182, 31.1875);
vertex(189, 26.1875);
vertex(195, 22.1875);
vertex(198, 18.1875);
vertex(201, 17.1875);
vertex(206, 15.1875);
vertex(182, 33.1875);
vertex(175, 46.1875);
vertex(168, 56.1875);
vertex(161, 52.1875);
vertex(146, 56.1875);
vertex(134, 61.1875);
vertex(125, 70.1875);
vertex(114, 80.1875);
vertex(104, 94.1875);
vertex(99, 109.1875);
vertex(96, 122.1875);
vertex(96, 137.1875);
vertex(102, 156.1875);
vertex(110, 164.1875);
vertex(119, 152.1875);
vertex(133, 141.1875);
vertex(146, 135.1875);
vertex(160, 130.1875);
vertex(174, 128.1875);
vertex(184, 117.1875);
vertex(196, 105.1875);
vertex(210, 96.1875);
vertex(223, 92.1875);
vertex(235, 91.1875);
vertex(230, 71.1875);
vertex(218, 65.1875);
vertex(209, 56.1875);
vertex(192, 52.1875);
vertex(173, 49.1875);
vertex(163, 66.1875);
vertex(161, 80.1875);
vertex(161, 94.1875);
vertex(166, 108.1875);
vertex(171, 120.1875);
vertex(186, 138.1875);
vertex(195, 150.1875);
vertex(206, 157.1875);
vertex(219, 161.1875);
vertex(234, 165.1875);
vertex(234, 156.1875);
vertex(227, 149.1875);
vertex(216, 142.1875);
vertex(203, 136.1875);
vertex(189, 132.1875);
vertex(179, 130.1875);
vertex(176, 138.1875);
vertex(183, 152.1875);
vertex(182, 152.1875);
vertex(182, 164.1875);
vertex(182, 176.1875);
vertex(182, 193.1875);
vertex(196, 184.1875);
vertex(208, 176.1875);
vertex(220, 169.1875);
vertex(231, 168.1875);
vertex(236, 183.1875);
vertex(231, 199.1875);
vertex(231, 210.1875);
vertex(233, 222.1875);
vertex(237, 234.1875);
vertex(243, 246.1875);
vertex(248, 237.1875);
vertex(251, 206.1875);
vertex(250, 223.1875);
vertex(250, 200.1875);
vertex(250, 191.1875);
vertex(252, 184.1875);
vertex(259, 191.1875);
vertex(264, 194.1875);
vertex(272, 197.1875);
vertex(280, 202.1875);
vertex(285, 204.1875);
vertex(294, 209.1875);
vertex(294, 208.1875);
vertex(281, 213.1875);
vertex(269, 220.1875);
vertex(258, 230.1875);
vertex(255, 231.1875);
vertex(247, 239.1875);
vertex(240, 245.1875);
vertex(234, 247.1875);
vertex(205, 239.1875);
vertex(192, 231.1875);
vertex(184, 223.1875);
vertex(180, 213.1875);
vertex(189, 207.1875);
vertex(178, 207.1875);
vertex(170, 202.1875);
vertex(167, 203.1875);
vertex(192, 203.1875);
vertex(209, 200.1875);
vertex(221, 190.1875);
vertex(229, 184.1875);
vertex(238, 176.1875);
vertex(230, 198.1875);
vertex(234, 223.1875);
vertex(237, 239.1875);
vertex(224, 226.1875);
vertex(214, 219.1875);
vertex(203, 212.1875);
vertex(193, 210.1875);
vertex(182, 207.1875);
vertex(169, 219.1875);
vertex(164, 234.1875);
vertex(163, 252.1875);
vertex(167, 267.1875);
vertex(173, 279.1875);
vertex(180, 272.1875);
vertex(183, 258.1875);
vertex(185, 247.1875);
vertex(183, 239.1875);
vertex(183, 239.1875);
vertex(179, 227.1875);
vertex(173, 217.1875);
vertex(164, 209.1875);
vertex(150, 208.1875);
vertex(140, 212.1875);
vertex(132, 218.1875);
vertex(122, 223.1875);
vertex(113, 234.1875);
vertex(109, 244.1875);
vertex(120, 242.1875);
vertex(131, 239.1875);
vertex(144, 233.1875);
vertex(153, 227.1875);
vertex(160, 221.1875);
vertex(166, 215.1875);
vertex(166, 195.1875);
vertex(162, 182.1875);
vertex(163, 167.1875);
vertex(165, 161.1875);
vertex(167, 142.1875);
vertex(162, 151.1875);
vertex(168, 133.1875);
vertex(161, 129.1875);
vertex(150, 134.1875);
vertex(134, 139.1875);
vertex(126, 145.1875);
vertex(111, 164.1875);
vertex(114, 181.1875);
vertex(125, 192.1875);
vertex(137, 199.1875);
vertex(150, 203.1875);
vertex(162, 194.1875);
vertex(154, 185.1875);
vertex(144, 177.1875);
vertex(132, 173.1875);
vertex(122, 169.1875);
vertex(112, 169.1875);
vertex(107, 169.1875);
vertex(99, 183.1875);
vertex(94, 199.1875);
vertex(95, 212.1875);
vertex(96, 229.1875);
vertex(102, 241.1875);
vertex(111, 257.1875);
vertex(125, 270.1875);
vertex(136, 277.1875);
vertex(148, 281.1875);
vertex(163, 285.1875);
vertex(173, 282.1875);
vertex(165, 274.1875);
vertex(154, 260.1875);
vertex(141, 251.1875);
vertex(130, 245.1875);
vertex(113, 244.1875);
vertex(87, 244.1875);
vertex(73, 248.1875);
vertex(64, 253.1875);
vertex(53, 261.1875);
vertex(44, 274.1875);
vertex(37, 283.1875);
vertex(28, 297.1875);
vertex(26, 310.1875);
vertex(28, 323.1875);
vertex(31, 338.1875);
vertex(36, 353.1875);
vertex(46, 369.1875);
vertex(56, 379.1875);
vertex(69, 388.1875);
vertex(88, 396.1875);
vertex(102, 401.1875);
vertex(122, 399.1875);
vertex(140, 392.1875);
vertex(156, 381.1875);
vertex(169, 368.1875);
vertex(178, 349.1875);
vertex(183, 332.1875);
vertex(183, 321.1875);
vertex(182, 306.1875);
vertex(179, 293.1875);
vertex(184, 286.1875);
vertex(196, 282.1875);
vertex(213, 274.1875);
vertex(222, 268.1875);
vertex(230, 262.1875);
vertex(235, 255.1875);
vertex(233, 271.1875);
vertex(232, 288.1875);
vertex(233, 306.1875);
vertex(221, 302.1875);
vertex(212, 294.1875);
vertex(205, 291.1875);
vertex(197, 288.1875);
vertex(181, 290.1875);
vertex(194, 305.1875);
vertex(211, 316.1875);
vertex(223, 322.1875);
vertex(212, 329.1875);
vertex(197, 337.1875);
vertex(183, 346.1875);
vertex(181, 364.1875);
vertex(197, 359.1875);
vertex(210, 353.1875);
vertex(223, 346.1875);
vertex(230, 337.1875);
vertex(235, 342.1875);
vertex(234, 354.1875);
vertex(231, 367.1875);
vertex(236, 385.1875);
vertex(240, 395.1875);
vertex(238, 400.1875);
vertex(223, 400.1875);
vertex(211, 393.1875);
vertex(198, 387.1875);
vertex(186, 379.1875);
vertex(179, 365.1875);
vertex(169, 355.1875);
vertex(164, 339.1875);
vertex(164, 322.1875);
vertex(166, 304.1875);
vertex(168, 292.1875);
vertex(150, 306.1875);
vertex(134, 317.1875);
vertex(117, 319.1875);
vertex(100, 321.1875);
vertex(88, 319.1875);
vertex(71, 313.1875);
vertex(51, 300.1875);
vertex(38, 288.1875);
vertex(29, 270.1875);
vertex(25, 253.1875);
vertex(27, 232.1875);
vertex(28, 217.1875);
vertex(35, 204.1875);
vertex(45, 192.1875);
vertex(56, 182.1875);
vertex(77, 167.1875);
vertex(95, 164.1875);
vertex(101, 177.1875);
vertex(95, 208.1875);
vertex(104, 244.1875);
vertex(76, 240.1875);
vertex(67, 230.1875);
vertex(55, 222.1875);
vertex(44, 210.1875);
vertex(32, 190.1875);
vertex(26, 155.1875);
vertex(31, 138.1875);
vertex(38, 124.1875);
vertex(48, 113.1875);
vertex(65, 99.1875);
vertex(79, 90.1875);
vertex(99, 84.1875);
vertex(126, 89.1875);
vertex(147, 98.1875);
vertex(161, 106.1875);
vertex(168, 118.1875);
vertex(175, 135.1875);
vertex(187, 162.1875);
vertex(180, 196.1875);
vertex(183, 211.1875);
vertex(208, 241.1875);
vertex(239, 247.1875);
vertex(262, 243.1875);
vertex(277, 236.1875);
vertex(287, 229.1875);
vertex(296, 221.1875);
vertex(321, 186.1875);
vertex(332, 179.1875);
vertex(344, 172.1875);
vertex(359, 168.1875);
vertex(378, 173.1875);
vertex(366, 181.1875);
vertex(357, 191.1875);
vertex(366, 182.1875);
vertex(357, 194.1875);
vertex(343, 198.1875);
vertex(327, 201.1875);
vertex(311, 204.1875);
vertex(306, 210.1875);
vertex(292, 229.1875);
vertex(280, 237.1875);
vertex(267, 240.1875);
vertex(254, 245.1875);
vertex(232, 249.1875);
vertex(213, 251.1875);
vertex(202, 254.1875);
vertex(192, 265.1875);
vertex(181, 277.1875);
vertex(155, 288.1875);
vertex(143, 292.1875);
vertex(128, 302.1875);
vertex(116, 313.1875);
vertex(106, 319.1875);
vertex(96, 314.1875);
vertex(93, 301.1875);
vertex(95, 290.1875);
vertex(95, 276.1875);
vertex(100, 263.1875);
vertex(104, 252.1875);
vertex(95, 270.1875);
vertex(96, 278.1875);
vertex(96, 293.1875);
vertex(101, 315.1875);
vertex(115, 334.1875);
vertex(133, 350.1875);
vertex(153, 359.1875);
vertex(166, 363.1875);
vertex(148, 390.1875);
vertex(108, 400.1875);
vertex(110, 408.1875);
vertex(123, 420.1875);
vertex(139, 432.1875);
vertex(166, 440.1875);
vertex(192, 440.1875);
vertex(213, 432.1875);
vertex(229, 418.1875);
vertex(239, 407.1875);
vertex(197, 388.1875);
vertex(183, 374.1875);
vertex(170, 366.1875);
vertex(163, 386.1875);
vertex(164, 405.1875);
vertex(165, 424.1875);
vertex(180, 450.1875);
vertex(193, 463.1875);
vertex(216, 473.1875);
vertex(241, 476.1875);
vertex(267, 474.1875);
vertex(284, 466.1875);
vertex(295, 457.1875);
vertex(305, 442.1875);
vertex(296, 438.1875);
vertex(278, 433.1875);
vertex(265, 427.1875);
vertex(254, 413.1875);
vertex(248, 407.1875);
vertex(265, 422.1875);
vertex(290, 434.1875);
vertex(312, 438.1875);
vertex(303, 441.1875);
vertex(292, 462.1875);
vertex(266, 474.1875);
vertex(213, 476.1875);
vertex(174, 440.1875);
vertex(165, 438.1875);
vertex(142, 431.1875);
vertex(122, 418.1875);
vertex(101, 379.1875);
vertex(98, 366.1875);
vertex(99, 348.1875);
vertex(103, 332.1875);
endShape(CLOSE);
}

function drawCrescentMoon() {
  // drawing of the contour of the head
  beginShape();
curveVertex(103, 154.1875);
curveVertex(112, 160.1875);
curveVertex(123, 164.1875);
curveVertex(137, 161.1875);
curveVertex(147, 158.1875);
curveVertex(155, 149.1875);
curveVertex(162, 138.1875);
curveVertex(168, 123.1875);
curveVertex(173, 110.1875);
curveVertex(178, 101.1875);
curveVertex(179, 91.1875);
curveVertex(174, 79.1875);
curveVertex(168, 67.1875);
curveVertex(179, 62.1875);
curveVertex(189, 59.1875);
curveVertex(198, 57.1875);
curveVertex(207, 59.1875);
curveVertex(213, 51.1875);
curveVertex(206, 44.1875);
curveVertex(198, 45.1875);
curveVertex(193, 49.1875);
curveVertex(185, 50.1875);
curveVertex(175, 52.1875);
curveVertex(167, 51.1875);
curveVertex(160, 44.1875);
curveVertex(155, 35.1875);
curveVertex(148, 27.1875);
curveVertex(138, 22.1875);
curveVertex(127, 20.1875);
curveVertex(116, 19.1875);
curveVertex(104, 22.1875);
curveVertex(94, 28.1875);
curveVertex(87, 35.1875);
curveVertex(82, 43.1875);
curveVertex(80, 51.1875);
curveVertex(78, 58.1875);
curveVertex(68, 61.1875);
curveVertex(62, 61.1875);
curveVertex(52, 61.1875);
curveVertex(45, 57.1875);
curveVertex(39, 56.1875);
curveVertex(32, 62.1875);
curveVertex(34, 72.1875);
curveVertex(45, 74.1875);
curveVertex(49, 69.1875);
curveVertex(55, 71.1875);
curveVertex(61, 72.1875);
curveVertex(69, 74.1875);
curveVertex(66, 82.1875);
curveVertex(64, 88.1875);
curveVertex(64, 97.1875);
curveVertex(66, 106.1875);
curveVertex(70, 115.1875);
curveVertex(76, 122.1875);
curveVertex(79, 126.1875);
curveVertex(83, 132.1875);
curveVertex(90, 139.1875);
curveVertex(96, 145.1875);
endShape(CLOSE);
    beginShape();
curveVertex(127, 74.1875);
curveVertex(135, 72.1875);
curveVertex(144, 74.1875);
curveVertex(150, 80.1875);
curveVertex(154, 87.1875);
curveVertex(154, 92.1875);
curveVertex(153, 102.1875);
curveVertex(147, 112.1875);
curveVertex(137, 118.1875);
curveVertex(124, 115.1875);
curveVertex(116, 109.1875);
curveVertex(112, 98.1875);
curveVertex(113, 86.1875);
curveVertex(118, 78.1875);
endShape(CLOSE);
    beginShape();
curveVertex(130, 89.1875);
curveVertex(136, 88.1875);
curveVertex(142, 89.1875);
curveVertex(144, 93.1875);
curveVertex(144, 98.1875);
curveVertex(141, 103.1875);
curveVertex(135, 105.1875);
curveVertex(129, 100.1875);
curveVertex(128, 94.1875);
endShape(CLOSE);
    beginShape();
curveVertex(164, 102.1875);
curveVertex(162, 110.1875);
curveVertex(159, 118.1875);
curveVertex(156, 125.1875);
curveVertex(153, 134.1875);
curveVertex(149, 144.1875);
curveVertex(140, 149.1875);
curveVertex(131, 149.1875);
curveVertex(122, 147.1875);
curveVertex(116, 142.1875);
curveVertex(109, 134.1875);
curveVertex(104, 126.1875);
curveVertex(100, 118.1875);
curveVertex(96, 110.1875);
curveVertex(96, 105.1875);
curveVertex(100, 110.1875);
curveVertex(102, 114.1875);
curveVertex(107, 118.1875);
curveVertex(112, 122.1875);
curveVertex(117, 126.1875);
curveVertex(120, 129.1875);
curveVertex(126, 131.1875);
curveVertex(134, 132.1875);
curveVertex(140, 131.1875);
curveVertex(147, 128.1875);
curveVertex(152, 125.1875);
curveVertex(155, 121.1875);
curveVertex(160, 114.1875);
endShape(CLOSE);
}

function drawRainbow() {
  // Dibuix d'un arc de Sant Martí
 beginShape();
vertex(62, 142.1875);
bezierVertex(69, 146.1875, 78, 150.1875, 86, 154.1875);
bezierVertex(100, 159.1875, 117, 163.1875, 131, 164.1875);
bezierVertex(152, 165.1875, 179, 163.1875, 202, 158.1875);
bezierVertex(226, 154.1875, 246, 149.1875, 268, 143.1875);
bezierVertex(289, 137.1875, 310, 131.1875, 335, 128.1875);
bezierVertex(359, 124.1875, 379, 124.1875, 406, 126.1875);
bezierVertex(427, 128.1875, 448, 130.1875, 475, 135.1875);
bezierVertex(504, 143.1875, 532, 151.1875, 552, 160.1875);
endShape();
    beginShape();
vertex(60, 170.1875);
bezierVertex(70, 175.1875, 87, 183.1875, 106, 188.1875);
bezierVertex(122, 192.1875, 137, 194.1875, 159, 194.1875);
bezierVertex(184, 192.1875, 211, 187.1875, 239, 180.1875);
bezierVertex(263, 174.1875, 285, 167.1875, 305, 162.1875);
bezierVertex(327, 157.1875, 350, 154.1875, 372, 154.1875);
bezierVertex(392, 154.1875, 416, 156.1875, 439, 159.1875);
bezierVertex(463, 163.1875, 463, 163.1875, 488, 167.1875);
bezierVertex(510, 174.1875, 531, 180.1875, 548, 186.1875);
endShape();
    beginShape();
vertex(61, 200.1875);
bezierVertex(73, 206.1875, 89, 213.1875, 113, 220.1875);
bezierVertex(140, 224.1875, 165, 224.1875, 194, 220.1875);
bezierVertex(221, 214.1875, 245, 208.1875, 268, 200.1875);
bezierVertex(290, 195.1875, 312, 189.1875, 333, 187.1875);
bezierVertex(355, 183.1875, 382, 185.1875, 401, 185.1875);
bezierVertex(425, 186.1875, 446, 189.1875, 475, 194.1875);
bezierVertex(497, 200.1875, 517, 205.1875, 544, 215.1875);
endShape();
    beginShape();
vertex(58, 228.1875);
bezierVertex(75, 236.1875, 100, 247.1875, 122, 251.1875);
bezierVertex(149, 254.1875, 174, 253.1875, 198, 248.1875);
bezierVertex(222, 243.1875, 246, 237.1875, 276, 230.1875);
bezierVertex(302, 221.1875, 326, 217.1875, 355, 214.1875);
bezierVertex(383, 213.1875, 416, 214.1875, 436, 217.1875);
bezierVertex(461, 221.1875, 477, 225.1875, 500, 230.1875);
bezierVertex(526, 239.1875, 549, 247.1875, 567, 254.1875);
endShape();
    beginShape();
vertex(59, 257.1875);
bezierVertex(71, 264.1875, 90, 272.1875, 119, 279.1875);
bezierVertex(145, 282.1875, 173, 281.1875, 202, 276.1875);
bezierVertex(242, 268.1875, 274, 259.1875, 303, 249.1875);
bezierVertex(329, 246.1875, 352, 244.1875, 384, 242.1875);
bezierVertex(415, 244.1875, 442, 247.1875, 442, 247.1875);
bezierVertex(484, 255.1875, 517, 265.1875, 550, 277.1875);
endShape();
    beginShape();
vertex(61, 290.1875);
bezierVertex(86, 299.1875, 118, 309.1875, 159, 313.1875);
bezierVertex(201, 307.1875, 239, 298.1875, 276, 286.1875);
bezierVertex(314, 277.1875, 346, 272.1875, 390, 272.1875);
bezierVertex(415, 274.1875, 449, 278.1875, 483, 285.1875);
bezierVertex(504, 290.1875, 536, 300.1875, 568, 314.1875);
endShape();
    beginShape();
curveVertex(91, 293.1875);
curveVertex(94, 293.1875);
curveVertex(97, 294.1875);
curveVertex(100, 296.1875);
curveVertex(101, 298.1875);
curveVertex(102, 301.1875);
curveVertex(100, 304.1875);
curveVertex(97, 306.1875);
curveVertex(93, 306.1875);
curveVertex(90, 306.1875);
curveVertex(92, 309.1875);
curveVertex(95, 311.1875);
curveVertex(98, 312.1875);
curveVertex(102, 313.1875);
curveVertex(107, 313.1875);
curveVertex(114, 311.1875);
curveVertex(121, 306.1875);
curveVertex(123, 298.1875);
curveVertex(124, 288.1875);
curveVertex(124, 276.1875);
curveVertex(124, 264.1875);
curveVertex(124, 251.1875);
curveVertex(124, 234.1875);
curveVertex(124, 217.1875);
curveVertex(124, 202.1875);
curveVertex(125, 182.1875);
curveVertex(125, 162.1875);
curveVertex(132, 145.1875);
curveVertex(140, 134.1875);
curveVertex(146, 129.1875);
curveVertex(151, 131.1875);
curveVertex(154, 137.1875);
curveVertex(156, 144.1875);
curveVertex(155, 154.1875);
curveVertex(154, 164.1875);
curveVertex(149, 172.1875);
curveVertex(146, 178.1875);
curveVertex(141, 185.1875);
curveVertex(137, 189.1875);
curveVertex(131, 195.1875);
curveVertex(128, 198.1875);
curveVertex(121, 203.1875);
curveVertex(114, 210.1875);
curveVertex(106, 216.1875);
curveVertex(98, 223.1875);
curveVertex(92, 231.1875);
curveVertex(90, 243.1875);
curveVertex(93, 254.1875);
curveVertex(99, 265.1875);
curveVertex(105, 268.1875);
curveVertex(114, 272.1875);
curveVertex(121, 271.1875);
curveVertex(135, 265.1875);
curveVertex(141, 254.1875);
curveVertex(140, 243.1875);
curveVertex(135, 235.1875);
curveVertex(125, 230.1875);
curveVertex(116, 232.1875);
curveVertex(111, 236.1875);
curveVertex(108, 244.1875);
curveVertex(109, 252.1875);
curveVertex(113, 260.1875);
curveVertex(109, 260.1875);
curveVertex(104, 257.1875);
curveVertex(99, 249.1875);
curveVertex(99, 241.1875);
curveVertex(103, 231.1875);
curveVertex(111, 222.1875);
curveVertex(117, 220.1875);
curveVertex(130, 219.1875);
curveVertex(138, 222.1875);
curveVertex(148, 230.1875);
curveVertex(153, 242.1875);
curveVertex(154, 253.1875);
curveVertex(148, 264.1875);
curveVertex(143, 270.1875);
curveVertex(136, 274.1875);
curveVertex(127, 276.1875);
curveVertex(115, 276.1875);
curveVertex(102, 272.1875);
curveVertex(92, 266.1875);
curveVertex(84, 253.1875);
curveVertex(81, 240.1875);
curveVertex(86, 220.1875);
curveVertex(100, 204.1875);
curveVertex(115, 194.1875);
curveVertex(133, 182.1875);
curveVertex(141, 174.1875);
curveVertex(149, 161.1875);
curveVertex(150, 153.1875);
curveVertex(148, 145.1875);
curveVertex(142, 147.1875);
curveVertex(135, 153.1875);
curveVertex(130, 159.1875);
curveVertex(128, 167.1875);
curveVertex(128, 174.1875);
curveVertex(128, 181.1875);
curveVertex(126, 194.1875);
curveVertex(128, 204.1875);
curveVertex(127, 211.1875);
curveVertex(128, 216.1875);
curveVertex(128, 236.1875);
curveVertex(128, 243.1875);
curveVertex(127, 257.1875);
curveVertex(128, 264.1875);
curveVertex(128, 282.1875);
curveVertex(128, 300.1875);
curveVertex(124, 307.1875);
curveVertex(122, 312.1875);
curveVertex(117, 315.1875);
curveVertex(110, 317.1875);
curveVertex(102, 318.1875);
curveVertex(92, 313.1875);
curveVertex(85, 305.1875);
curveVertex(84, 296.1875);
endShape(CLOSE);
    beginShape();
curveVertex(193, 238.1875);
curveVertex(204, 235.1875);
curveVertex(210, 227.1875);
curveVertex(209, 211.1875);
curveVertex(208, 188.1875);
curveVertex(206, 170.1875);
curveVertex(206, 162.1875);
curveVertex(206, 162.1875);
curveVertex(216, 159.1875);
curveVertex(229, 156.1875);
curveVertex(244, 152.1875);
curveVertex(258, 149.1875);
curveVertex(258, 159.1875);
curveVertex(259, 171.1875);
curveVertex(260, 185.1875);
curveVertex(261, 200.1875);
curveVertex(254, 198.1875);
curveVertex(242, 200.1875);
curveVertex(236, 204.1875);
curveVertex(233, 210.1875);
curveVertex(235, 217.1875);
curveVertex(246, 224.1875);
curveVertex(261, 221.1875);
curveVertex(268, 211.1875);
curveVertex(267, 193.1875);
curveVertex(265, 163.1875);
curveVertex(263, 134.1875);
curveVertex(260, 130.1875);
curveVertex(253, 130.1875);
curveVertex(229, 136.1875);
curveVertex(206, 141.1875);
curveVertex(199, 144.1875);
curveVertex(199, 158.1875);
curveVertex(201, 176.1875);
curveVertex(202, 191.1875);
curveVertex(204, 214.1875);
curveVertex(193, 212.1875);
curveVertex(183, 215.1875);
curveVertex(175, 225.1875);
curveVertex(180, 236.1875);
endShape(CLOSE);
    beginShape();
curveVertex(300, 189.1875);
curveVertex(303, 192.1875);
curveVertex(304, 196.1875);
curveVertex(314, 204.1875);
curveVertex(321, 211.1875);
curveVertex(327, 217.1875);
curveVertex(329, 230.1875);
curveVertex(327, 238.1875);
curveVertex(325, 239.1875);
curveVertex(325, 230.1875);
curveVertex(321, 221.1875);
curveVertex(314, 214.1875);
curveVertex(304, 210.1875);
curveVertex(304, 216.1875);
curveVertex(307, 222.1875);
curveVertex(316, 230.1875);
curveVertex(323, 237.1875);
curveVertex(327, 248.1875);
curveVertex(328, 259.1875);
curveVertex(323, 267.1875);
curveVertex(324, 255.1875);
curveVertex(322, 247.1875);
curveVertex(316, 239.1875);
curveVertex(304, 235.1875);
curveVertex(303, 243.1875);
curveVertex(304, 263.1875);
curveVertex(303, 279.1875);
curveVertex(300, 290.1875);
curveVertex(287, 295.1875);
curveVertex(277, 292.1875);
curveVertex(268, 281.1875);
curveVertex(274, 272.1875);
curveVertex(282, 270.1875);
curveVertex(291, 270.1875);
curveVertex(296, 271.1875);
curveVertex(298, 263.1875);
curveVertex(298, 242.1875);
curveVertex(297, 224.1875);
curveVertex(298, 203.1875);
curveVertex(297, 194.1875);
endShape(CLOSE);
    beginShape();
curveVertex(371, 181.1875);
curveVertex(371, 158.1875);
curveVertex(371, 121.1875);
curveVertex(371, 102.1875);
curveVertex(374, 99.1875);
curveVertex(378, 104.1875);
curveVertex(382, 110.1875);
curveVertex(391, 116.1875);
curveVertex(400, 125.1875);
curveVertex(402, 136.1875);
curveVertex(401, 147.1875);
curveVertex(397, 151.1875);
curveVertex(398, 137.1875);
curveVertex(393, 127.1875);
curveVertex(383, 121.1875);
curveVertex(378, 120.1875);
curveVertex(377, 137.1875);
curveVertex(377, 156.1875);
curveVertex(377, 186.1875);
curveVertex(377, 195.1875);
curveVertex(365, 204.1875);
curveVertex(349, 201.1875);
curveVertex(343, 191.1875);
curveVertex(351, 181.1875);
curveVertex(361, 179.1875);
endShape(CLOSE);
    beginShape();
curveVertex(396, 283.1875);
curveVertex(400, 261.1875);
curveVertex(407, 220.1875);
curveVertex(428, 219.1875);
curveVertex(461, 220.1875);
curveVertex(457, 241.1875);
curveVertex(452, 270.1875);
curveVertex(443, 265.1875);
curveVertex(435, 265.1875);
curveVertex(429, 268.1875);
curveVertex(423, 273.1875);
curveVertex(424, 283.1875);
curveVertex(434, 291.1875);
curveVertex(451, 290.1875);
curveVertex(456, 283.1875);
curveVertex(463, 244.1875);
curveVertex(469, 207.1875);
curveVertex(469, 203.1875);
curveVertex(461, 201.1875);
curveVertex(441, 201.1875);
curveVertex(406, 201.1875);
curveVertex(400, 223.1875);
curveVertex(392, 270.1875);
curveVertex(377, 265.1875);
curveVertex(364, 271.1875);
curveVertex(364, 283.1875);
curveVertex(374, 290.1875);
curveVertex(385, 292.1875);
curveVertex(393, 289.1875);
endShape(CLOSE);
    beginShape();
curveVertex(536, 161.1875);
curveVertex(535, 150.1875);
curveVertex(541, 152.1875);
curveVertex(550, 162.1875);
curveVertex(553, 171.1875);
curveVertex(552, 180.1875);
curveVertex(551, 185.1875);
curveVertex(557, 174.1875);
curveVertex(557, 160.1875);
curveVertex(551, 147.1875);
curveVertex(542, 138.1875);
curveVertex(539, 130.1875);
curveVertex(533, 129.1875);
curveVertex(531, 140.1875);
curveVertex(528, 156.1875);
curveVertex(527, 164.1875);
curveVertex(523, 184.1875);
curveVertex(519, 208.1875);
curveVertex(511, 204.1875);
curveVertex(500, 203.1875);
curveVertex(493, 208.1875);
curveVertex(489, 214.1875);
curveVertex(491, 223.1875);
curveVertex(502, 230.1875);
curveVertex(517, 227.1875);
curveVertex(523, 220.1875);
curveVertex(525, 208.1875);
curveVertex(527, 194.1875);
curveVertex(530, 180.1875);
curveVertex(531, 173.1875);
curveVertex(537, 176.1875);
curveVertex(548, 187.1875);
curveVertex(548, 194.1875);
curveVertex(545, 207.1875);
curveVertex(553, 199.1875);
curveVertex(553, 187.1875);
curveVertex(549, 176.1875);
curveVertex(542, 169.1875);
endShape(CLOSE);
}

function handleFileUpload(event) {
  let file = event.target.files[0];
  if (file && file.type.startsWith('audio/')) {
    let fileURL = URL.createObjectURL(file);

    // Update Plyr player with the new audio file
    const audioElement = document.getElementById('player');
    audioElement.src = fileURL;
    player.source = {
      type: 'audio',
      sources: [{ src: fileURL, type: file.type }]
    };

    // Load sound for p5.js analysis
    loadSound(fileURL, soundLoaded);
  } else {
    console.error('Please upload a valid audio file');
  }
}

function soundLoaded(loadedSong) {
  if (song && song.isPlaying()) {
    song.stop();
  }
  song = loadedSong;
  song.play();
  amplitude.setInput(song);
  fft.setInput(song);
}
</script>

</body>
</html>
